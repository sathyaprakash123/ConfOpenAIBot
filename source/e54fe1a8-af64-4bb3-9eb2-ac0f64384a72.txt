Automatic indexing not working | Confluence | Atlassian Documentation
Products
Confluence Support
Get started
Documentation
Knowledge base
Resources
Search
Log in
View account
View requests
Log out
...
Get started
Knowledge base
Products
Jira Software
Project and issue tracking
Jira Service Management
Service management and customer support
Jira Work Management
Manage any business project
Confluence
Document collaboration
Bitbucket
Git code management
See all
Resources
Documentation
Usage and admin help
Community
Answers, support, and inspiration
System Status
Cloud services health
Suggestions and bugs
Feature suggestions and bug reports
Marketplace
Product apps
Billing and licensing
Frequently asked questions
Log out
Log in to account
Contact support
Training & Certification
Cloud Migration Center
GDPR guides
Enterprise services
Atlassian partners
Developers
User groups
Automation for Jira
Atlassian.com
Page
View in Confluence
Edit Page
Viewport
Manage Viewport
Confluence
Dashboard
Space Directory
People Directory
Atlassian Support
Confluence Knowledge Base
Confluence Indexing Troubleshooting Guide
Automatic indexing not working
Automatic indexing not working
Related content
No related content found
Still need help?
The Atlassian Community is here for you.
Ask the community
Platform notice: Server and Data Center only. This article only applies to Atlassian products on the server and data center platforms.
ProblemAutomatic indexing is not workingRecently added content will not appear in search results AND/OR activity streamAttachment indexing might fail as wellThe following appears in the atlassian-confluence.log
2015-10-09 12:09:32,443 ERROR [Indexer: 1] [confluence.search.lucene.ReindexWorkBatch] indexCollection Exception indexing document with id: 7143782
-- referer: http://confluence.XXXXX.com/admin/search-indexes.action | url: /admin/reindex.action | userName: XXX | action: reindex
java.lang.IllegalArgumentException: searchable: Attachment: test.xls v.1 (14419104) <user_name> is not supported: Attachments with minor edit set to true are not accounted for in the change index
at com.atlassian.confluence.search.lucene.tasks.AddChangeDocumentIndexTask.<init>(AddChangeDocumentIndexTask.java:47)
at com.atlassian.confluence.search.lucene.tasks.IndexTaskFactory.createAddChangeDocumentTask(IndexTaskFactory.java:133)
DiagnosisEnvironmentCheck if the allocated heap is around 1 GB i.e. Xmx is around 1GB size in the setenv.sh/setenv.batCauseThis is caused because the allocated heap is not sufficient for the indexing scheduler and the scheduler does not index ConfluenceNote: There won't be any out of memory errors.WorkaroundIncrease the heap memory as per the size of the instance. Please refer the Server hardware requirements guide
Last modified on Nov 2, 2018
Was this helpful?
Yes
No
It wasn't accurate
It wasn't clear
It wasn't relevant
Provide feedback about this article
Related content
No related content found
Powered by Confluence and Scroll Viewport.
Atlassian
Notice at Collection
Privacy Policy
Terms of Use
Security
©
Atlassian